let SearchService=(()=>{const e={};let t;return e.template=`\n  <div id="u-search">\n    <div class="modal">\n      <header class="modal-header" class="clearfix">\n        <form id="u-search-modal-form" class="u-search-form" name="uSearchModalForm">\n          <input autofocus type="text" id="u-search-modal-input" class="u-search-input" placeholder="${volantis.GLOBAL_CONFIG.search.placeholder}" />\n          <button type="submit" id="u-search-modal-btn-submit" class="u-search-btn-submit">\n            <span class="fa-solid fa-search"></span>\n          </button>\n        </form>\n        <a id="u-search-btn-close" class="btn-close"> <span class="fa-solid fa-times"></span> </a>\n      </header>\n      <main class="modal-body"></main>\n    </div>\n    <div id="modal-overlay" class="modal-overlay"></div>\n  </div>\n  `,e.init=()=>{let a=document.createElement("div");a.innerHTML+=e.template,document.body.append(a),t=volantis.GLOBAL_CONFIG.search,t.searchKey&&t.indexName&&t.hostUrl?(e.event(),e.setMeiliSearch()):(document.querySelector("#u-search main.modal-body").innerHTML="MeiliSearch setting is invalid!",document.querySelector("#u-search main.modal-body").style.textAlign="center",document.querySelector("#u-search .modal").style.height="128px")},e.event=()=>{document.querySelector("#u-search-btn-close").addEventListener("click",e.close,!1),document.querySelector("#modal-overlay").addEventListener("click",e.close,!1),document.querySelectorAll(".u-search-form").forEach((t=>{t.addEventListener("submit",e.onSubmit,!1)}))},e.setMeiliSearch=()=>{docsSearchBar({hostUrl:t.hostUrl,apiKey:t.searchKey,indexUid:t.indexName,inputSelector:"#u-search-modal-input",enableDarkMode:"dark"===volantis.dark?.mode,debug:!1,meilisearchOptions:{limit:1e3},handleSelected:function(t,a,r,l,n){if(a.stopPropagation(),a.preventDefault(),"click"===n.selectionMethod||"enterKey"===n.selectionMethod){const t=e.getRelativePath(r.url);window.pjax?window.pjax.loadUrl(t):window.location.href=t}}})},e.getRelativePath=e=>{let t=e.split("//"),a=t[1].indexOf("/");return t[1].substring(a)},e.setQueryText=e=>{console.log("暂不支持指定内容的搜索")},e.search=()=>{document.querySelector("#u-search").style.display="block"},e.onSubmit=t=>{t.preventDefault();let a=t.target.querySelector(".u-search-input");e.setQueryText(a?.value?a.value:t.target.value),e.search()},e.close=()=>{document.querySelector("#u-search").style.display="none"},{init:e.init,setQueryText:t=>{e.setQueryText(t)},search:e.search,close:e.close}})();Object.freeze(SearchService),SearchService.init(),document.addEventListener("pjax:send",SearchService.close);